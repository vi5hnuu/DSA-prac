https://www.geeksforgeeks.org/problems/clone-a-linked-list-with-next-and-random-pointer/1

```cpp
/*
class Node {
  public:
    int data;
    Node* next;
    Node* random;

    Node(int x) {
        data = x;
        next = NULL;
        random = NULL;
    }
};
*/

class Solution {
  public:
    Node* cloneLinkedList(Node* head) {
        if(!head) return nullptr;

        unordered_map<Node*,Node*> nodeClone;

        Node *nH=nodeClone[head]=cloneNode(head);

        while(nH){
            if(nH->random){
                Node *rC=nodeClone[nH->random];
                if(!rC) rC=nodeClone[nH->random]=cloneNode(nH->random);
                nH->random=rC;
            }

            if(nH->next){
                Node *nHN=nodeClone[nH->next];
                if(!nHN) nHN=nodeClone[nH->next]=cloneNode(nH->next);
                nH->next=nHN;
            }
            nH=nH->next;
        }
        return nodeClone[head];
    }
  private:
    Node* cloneNode(Node *n){
        Node *nNode=new Node(n->data);
        nNode->random=n->random;
        nNode->next=n->next;
        return nNode;
    }
};
```

```cpp
/* Link list Node
struct Node {
    int data;
    Node *next;
    Node *random;

    Node(int x) {
        data = x;
        next = NULL;
        random = NULL;
    }
};*/

class Solution {
  public:
    Node *cloneLinkedList(Node *head) {
     unordered_map<Node*,Node*> oldNew;
     return clone(oldNew,head);
    }
  private:
    Node* clone(unordered_map<Node*,Node*> &oldNew,Node *node){
        if(!node) return node;
        Node* c=new Node(node->data);
        oldNew[node]=c;
        c->next=oldNew[node->next] ? oldNew[node->next] : clone(oldNew,node->next);
        c->random=oldNew[node->random] ? oldNew[node->random] : clone(oldNew,node->random);
        return c;
    }
};
```

```cpp
/* Link list Node
struct Node {
    int data;
    Node *next;
    Node *random;

    Node(int x) {
        data = x;
        next = NULL;
        random = NULL;
    }
};*/

class Solution {
  public:
    Node *cloneLinkedList(Node *head){
        map<Node*,Node*> oldToNew;

        Node *temp=head;
        while(temp){
            oldToNew[temp]=new Node(temp->data);
            temp=temp->next;
        }
        Node *cloneNode=NULL;

        temp=head;
        while(temp){
            cloneNode=oldToNew[temp];
            cloneNode->next=temp->next ? oldToNew[temp->next] : NULL;
            cloneNode->random=oldToNew[temp->random];
            temp=temp->next;
        }
        return oldToNew[head];
    }
};
```

```cpp
/* Link list Node
struct Node {
    int data;
    Node *next;
    Node *random;

    Node(int x) {
        data = x;
        next = NULL;
        random = NULL;
    }
};*/

class Solution {
  public:
    Node *cloneLinkedList(Node *head){
        //add clone next to each node
        Node *tmp=head;
        while(tmp){
            Node *clone=new Node(tmp->data);
            clone->next=tmp->next;
            tmp->next=clone;
            tmp=clone->next;
        }

        //update random
        tmp=head;
        while(tmp){
            Node *clone=tmp->next;
            if(tmp->random) clone->random=tmp->random->next;
            tmp=clone->next;
        }

        //seperate ll
        Node *cHead=nullptr,*cHeadT=nullptr;
        tmp=head;

        while(tmp){
            Node *clone=tmp->next;
            tmp->next=clone->next;
            if(!cHead) cHead=cHeadT=clone;
            else cHeadT=cHeadT->next=clone;
            tmp=clone->next;
        }
        return cHead;
    }
};
```
